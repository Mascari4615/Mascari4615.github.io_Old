---
title: "🏝️ 221117 하룻돌 - 네트워크 수업 타자"
date: 2022-11-17. 13:31
categories: ⭐Stone 🏝️DayStone
---

## 🗿 네트워크 수업 타자

---

보통이제 문제가 생겼을 때 어떤 문제가 생격ㅆ는데 4가지로 분류 가능

일반적으로 4가지


1. 프로토콜 자애 또는 ㅏ잘못된 구성
IP할당을 받아야하는데 못받았다거나

많이 쓰는 유틸리티가 핑
핑 가지고 도메인이름이나 서버주소를 가지고 핑을 보내ㅕㅁㄴ
정상적인 반응은 음답이 올 것

케이블 제대로 연결되어있고
~
도메인 네밍 서비스가 제대로 작동한다거고
상대방 서버 제대로 동작
네트ㅝ크가 혼잡한 상태도 아니고

ICMP 프로토콜 가지고 ping
상태진단
echoreq
echoreply 정상적인 경우 reply 로 응답
오류보고

ipconfig 라던지
ifconfig?

arp ㄹ고 하는 것은
캐시를 확인할때 이용

ping 

엥 응답을 안하네
예전에는 응답을 제대로 햇는데
서버를 공격하기 이전에 정상적으로 작동하는지 확인하려고 해커가 ping을 보내는데
그것때무에 응답을 안하는거에요

"그런가"

무튼 ing만 가지고는 다 확인할 수가 없다는 거죠

자기  자신에게도 보낼수가 잇어요

루프백 주소라고 햇죠 127.0.0.1
여기에 ping

ping 127.0.0.1
자기자신에 대해서 요청 보내고 응답 보내게

게이트웨이 주소(라우터 주소)

라우터에게도 ping을 보낼 ㅅ ㅟㅆ는거죠
ping 라우터주소

그래서 어느정도는네트워크가 정상적으로 작동하고 있는지 확인가능

구성정보 유틸리티 ipconfig (윈도우)
유닉스나 리숙스 시스템은 ifconfig (인터페이스 콘피그)

arp
는 arp가 젣ㅐ돌 동작하지 안흔다면 이것도 문제
ip주소에 대으된는 mac주소를 받아와야하ㅡㄴ넫
없으면 프레임을 ㅁ나들어 보낼 수 없겟죠

arp -a

arp 캐시에 있는 내용들을 다 볼 수 잇다

보안과목을 들엇으면
배월을 수도 잇는데

arp의 경우에는
공격자들이
이제
같은 네트워크의 ㄱ오격ㄱ자가
특정 서버로 가는ㄴ
프레임들을 자기가 받기위해서 arp테이블을 위조

are requset를 받으면
arp reply도 보내게 되어 있느데

req없이 replt 전송

replt 받으면 강제로 arp 테이블을 갱신한단 말이에요

맥 주소를 자기걸로 바꾼단 말이죠
그러면 패킷을 자기가 받을 수 잇겟죠

그래서 이걸 고정시킬 수강 잇어요

arp -s
해가지고

ip주소를 가지고 mac 주소를 강제로 고정시켜두는것
어느정도 공격을 막을 수 있다
그것이 arp 유틸리티다



2. 회선문제
회선이 끊겻다거나

pingㅇ이 동작을 안하면 직접 확인할 수 밖에
네트워크 관리자에게 문의을 해봐야겟죠 케이블 문제 같은건

허브나 스이치나 랜 카드 가 정상적으로 동작하려면
램프 (초록색)이 켜져잇어야하는데

안켜잇거나 빨간새ㄱ이면 문제가 이슨거겟ㅅ죠
이렇게 직접 확인ㄴ해봐야하는ㄱ어에요



3. 잘못된 이름 확인
도메인 이름을 썻ㅆ느데, 잘못된 이름
없는 이름에 접근한다던지

DNS 서버에 문제가 생기면
이건 유저가 해결할 수잇는 문제는 아니넥숒ㄱ
관리자가 해결해야

그럼 문제가 잇는지는 어덯게 아냐

ping을 보내보는ㄴ거져ㅛ
ping 이 동작하지않으면 관리자에게 문의해서 조치를 취해야겟죠

4. 과도한 트래픽
네트어크가 혼잡한 경우
접속이 느린ㄱㅇ우

tracert (traceroute 리눅스 유닉스)

패킷이 어떤 라우터를 거쳐서 전달되는지 경로를ㅇ ㅏㄹ 수 있다


tracert 주소

주소까지 가는데 어떤 라우터를 거져서 가는지

요청시간이 만료되엇다고 하는건
이런 응답은 알우터가 주는건데
라우터가 방화벽 ㄸ문에 안주면 만료가 되ㅇ다고 뜨는건고

라우터들이 어떤 메세지를 보내오는거냐
여러분 ttl 알죠
ttl이 라우터를 거칠때마다 하나식감소하는 값이죠
그러다 0이되면 더 이상 라우팅 하지 않고
소스호스트로 오류보고, 에러 메세지를 ㅗ내는데

이것도 이게 icmp을 가지고 구현을 한거에요
ttl값을  1로 해가지고 보낸거네요

응답이오면 하나 증가시켜서 보내고
0이되면 다시 응답이 오고
기록하고
ttl++
이러다보면 쵲ㅇ 목적지 까지 가겟죠

이러면 어떤 라우터를 거쳐 가는 지 확일할 수 잇겟죠


여기서 근데 주의
데이터그램이 항상 같은 경로로 가는건아니죠

글로가는 패킷이 무조건 이 경로로 간다고 보장할수는 없다

무튼 경로를 추적할 때 이용할 수 있는 프로그램이 이다

그담에 이제

route

라우팅 테이블 확인

이건 라우터만 가지고 잇느게 아니라
라우팅 호스트들도 가지고 잇어요

목적지 주소를 보고서
인터넷에 잇으면 라우터를 거치고 가는거고
네트워크 내에 있으면 ~~ㄴ
그래서 가지고 잇어야한는거에요

쳐보면


경로를 추가할 수도 잇고
삭제할 수도 잇고
ㅅㄱ제할 수도 잇고

route print

0.0.0.0 으로 되어 ㅇ시는거는
디폴트루트

무튼

네트워크에잇는건 인터페이스에
아닌것들은 게이트웨이를 토앻서 내보낸다


netstat
현재 이 컴퓨ㅓ가 어떤 연결을 가지고 이는지
tcp 연결상태 뭐 이런것들

ip tcp udp 및 icmp 프로토콜과 관련된 통계 및 네트ㅝ크 연결상태를 표시


쳐보면
tcp 는 상태를 가지고 있죠 설명하지는 않앗지만
무튼 ㅇ녀결상태를 볼 수 잇다

netstat -s
통계를 보려면


명령어 다름에 ? 치면
도움말을 보여주는 거야


//


텔넷

이거는이제
머ㅜ 연결구성확인 진단이 아니라
연결을 위한 응용계층 프로토콜

텔넷은 예쩐에 많이 씀

터미널 네트워크의 약자

원격 로그인

원격에 이슨 서버에 접속해서

클라이언트는 터널로 써서 접속하는 걸 구현해노흥ㄴ 프로토콜
프로그램도 이름이 또같애

윈도우에도 잇고 리눅스 유닉스엗 ㅗ 똑같은 이름으로 잇다

가상 터미널 서비스라는 것은 무엇이냐

일단 PC갑ㅌ은 경우 며령을 입력함면
입력한것들이 컴퓨터에서 실행되도 결과도 모니터에서 나오는데

텔넷을 이용해서 보낼경우
실행하는 하는 게 서버에서 실행되는 ㄱ서

서버에서 실행이 되는 거고
실행결과를 보내서
클라이언트가 받아서 보기만 하는것

컴퓨터가 터미널로서의 역할을 하는것

명령을 보내기만 하고
서버가  명령을 받아서 실행하고
결과를 받아서 출력만 하는것

telnet 이름/주소


기본저그올 서버에 접속할 때 id.pw 같은 걸로 인증를 받아야해요
근데 보안에 취약하기 땜누네
보통 막아놧어요 텔넷을

쳐보면 



암호화되지 안흥ㄴ 상태로 서버에 보내기 때문에
해킹이 같은 네트워크에 잇음녀 보고 다확일할 수가 잇어요

권한이 ㅇ벗는 해커가 id pw 을 가지고서버에 접속을 해서 어ㄸ너 뭔 조작을 할 수 있겟죠

그래서 텔넷을 사용을 권장하지 않음

대신 ssh 을 대체하여 사용하도록 하고 있다

secure shell 이것도 같은 이름으 프로그램이 있어요

ssh 을 가지고 구현한 여러 으용ㅇ프로그램들이 이고 putty 이런것도 이어요



원격 연결같은 결우에는 텔넷말고도 많안에ㅛ

r 로 시작 (유닉스 리구스 맥 같은ㅇ 경우에은 이런것들 사용하기도 해요, 윈도우는 없음)

r 유틸리티




ssh : rlogin rsh 및 텔넷을 대체하는 원격 쉘 프로그ㅐㅁ )이것도 보안이 떨어지느 거들이라 대체해서)
scp : rcp 대체
sftp : ftp 대ㅔ

s 붙어이슨것들이 대부분 ssh을 써서 보안성에 뭐시꺵한


//


네트워크 관리

따로 설명안할거에요

단순 망 관리 프로토콜 SSMP
원격 모니터링 RMON 프로토콜 이용


간단하게 보며
SNMP

네트워크 모니터 : 관리자
에이전트 매니저?

에이전트 : 관리대상

에이전트가 서버 역할을 하흔것
요청을 받고 응답을 하는 역할이인까

네트워크가 클라 역할을 하는 ㄱ서

상태를 알고 싶다
상태정보를 요청하면
보내오고

상태정보를 수정하면
성공여부를 보내오고

이런식으로 동ㅈ가

장치들을 관리하려면 식별할 수잇는 식별자가 필요한데
이름공간을 가지고잇음

이를 관리 목적으로 사용하기 때문에

관리 정보 베이스 MIB, Management Information Base
라고 함

//

15장

클래식 서비스

으용계층 프로토콜


인터넷 초창기부터 ㅍ표준화되서 사용되어 오고 이슨ㄴ 프로토콜
= 클래식 서비스


HTTP, 이메일은 할 말이 많아서 따로

여기서 다루는 건

FTP, 단순 파일 전송 프로토콜
파일 및 프린트 서비스
경량 디렉ㅌ리 접근 프로토콜, (전화번호부보면 이름 전화번호 등 ㅣㅇ 잇는 것처럼 구성요소에 대한 정보를 관리할 목저긍로 사용하면 프로토콜)
원격 제어 ()



FTP

파일전달
전송계층 프로토콜로 TCP사용
특이하게 2개의연결을 사용한다

어떤 차이가 있느냐

연결하나는 제어 연결용
컨트로 연결용 포트

또 다른 하나는 데이터 전송
데이터 연결용 포트

일단 접속을 한단마리에요?
이때ㅡㄴ 제어 연결용 포트를 통해서

ls
 디렉토리를 보기위한
 읻ㅇ하기위한 cd 이런것들이 제어 명령

cd 는 이제 디렉토리를 바꾸는거죠

바꾸면 성공여부 같은걸 보내는 데 그걸 이제 제어 연결용포트로

ls 명령
ls 에서 찾아온 디렉토리 파일 목록은 데이타
데이타 전송 포트를 통해 전송



제어는 로그인하고 로그아웃할때 까지 유지
데이터는 보낼때 연결 설정하고(열고) 다 보내면 (닫고)끊고

20번 21번 이 포트번호는 서버에서 쓰는 포트번호
근데 클라이언트에게도 포트번호 필요 쓰려면
그래서 그 포트 번호는 클라이언트가 서버에게 포트 번호를 아렬줘야 함

port 하는 명령어가 잇어요
이걸 이용해서 제어연결 설정이 되면
어떤 포트번호를 통해 연결을 시도해라
라고 전달해줘야해요

데이터는 보낼때 마다 보내주고 끊고


일반적으로 바이너리, ASCII 파일 사용

텍스트면 ASCII
응용프로그램 이미지 같은건 바이너리

//

TFTP
단순 파일 전송 프로토콜 
UDP 사용
로그인할 필요 없이 간단히 사용할 수 있는
임베디드 시스테메 주로 쓰이는

//

파일 및 프린트 서비스

원격 파일에 젖ㅂ글ㄹ할 때 쓰는 서비스들

NFS 네트워크 파일 시스템:유닉스리누긋 컴에서 사용되는 프로토콜
예쩐에는 UDP 썻는데 지금은 TCP
원격 파일과 디렉터리르 사용하려면 마우팅이라는 프로세스걸쳐야


공용이넡넷 파일시스템/서버메시지블록(CIFS/SMB): 윈도의 클라이어늩에 원격파일접근을제공하ㅡㄴ데사용하는프ㅗㄹ토콜
기능은 똑같애요
CIFS는 SMB를 표준화한 버전이라고 보면돼요

//
LDAP 경량 디렉터리 접근프로토콜