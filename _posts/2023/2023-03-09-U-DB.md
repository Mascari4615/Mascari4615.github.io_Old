---
title: "⛏️ DB, DB 설계 과목"
date: 2023-03-09. 13:39
last_modified_at: 2023-03-27. 11:26
categories: ⛏️Memo
---

- DB, DataBase
  - 방정리를 왜 할까 : 잘 찾을려고! (잘 보관하려고가 아니라)  
  - 데이터도 메모장으로 저장하는 것보다 찾을 때 천배 낫다  
  - 제목 (문자열)로 찾는 것보다 분류로 찾는 게 빠르다  

  - No Index : 전부 다 뒤진다  
  - SQL : 정형화, 대기업, 실수를 절대로 하면 안될 때  
  - NoSQL : 비정형화, 앞으로 뭔가 많이 바뀔 때  

---

엔터프라이즈?  
포탈?  

DB : 단순 데이터 저장, 저장물, 데이터 집합체  
DB 시스템 : 데이터 저장 과정/체계, DB 생산 공장  

아웃라인을 보자  

파일 시스템과 DBMS의 차이  

DB 시스템의 컴포넌트들  

사람,이 DBMS,로 데이터,를 DB,로  

---

### 데이터 : 가공이 안된 유무형의 SMT  

- 관찰의 결과로 나타난 정량적(크기가 존재) 혹은 정성적인(값으로 측정되지 않는 : 잘한다, 못한다) 실제 값  
- 사실(facts, 정성적)이나 값(values: 수치(숫자), 스트링 etc., 정량적)  

### 정보 : 가공된 데이터

- 데이터에 의미를 부여한 것
- 의사결정을 할 수 있게 하는 데이터의 해석이나 데이터 상호간의 관계

### 지식 : 정보를 활용하여

- 사물이나 현상에 대한 이해

과목에서는 정보까지 다룬다  

---

데이터와 정보  
단순 숫자 3개를 그냥 볼 때와 3사이즈라는 것을 알고 볼 때의 차이

주의  
나열된 이름도 데이터, ~ 사람 리스트 같이 무언가 의미가 있어야 정보  

---

데이터(의미X) != 정보  

P(D) = I  
P = DBS  

정보처리, 자료처리 : 정보추출방법  

---

DB :  
조직에 필요한 정보를 얻기 위해 논리적으로 연관된 데이터를 모아 구조적으로 통합해 놓은 것  

---

DB 시스템

데이터의 검색과 변경 작업을 주로 수행함
 변경(Modification)

시간에 따라 변하는 데이터 값을 DB에 반영
하기 위해 수행

삽입, 삭제, 수정 등의 작업을 말함

---

구축이 쉬움  

- 공룡 DB  
  - 검색이 많지 않아 DB를 구축할 필요 없음
  - 보존가치가 있는 경우에 구축
- 도서  
  - 사용자 수 보통
  - 검색은 많지만 데이터에 대한 변경은 적음
- 비행기 예약  
  - 예약 변경/취소 등 데이터 변경은 많지만 검색은 적음
  - 실시간 검색 및 변경이 중요함
- 증권  
  - 사용자 수 많음
  - 검색도 많고 거래로 인한 변경도 많음

구축이 어려움  

---

DB  

한 조직(enterprise)의 여러 응용 시스템들이  
공용(shared)하기 위해  
통합(integrated), 저장(stored)한  
운영 데이터(operational data)의 집합

---

- 통합된 데이터(integrated data)
  - 데이터를 통합하는 개념
  - 사용하는 데이터의 중복을 최소화(minimal redundancy)
  - 왜 와이 최소화 : 중복으로 인한 데이터 불일치 현상을 없앰(controlled redundancy)

- 저장된 데이터(stored data)
  - 문서로 보관된 데이터가 아님
  - 디스크, 테이프 같은 컴퓨터 저장장치에 저장된 데이터

- 운영 데이터(operational data)
  - 조직의 목적을 위해 사용되는 데이터
  - 업무를 위한 검색을 할 목적으로 저장된 데이터

- 공용 데이터(shared data)
  - 한 사람 또는 한 업무를 위해 사용되는 데이터가 아니라 공동으로 사용되는 데이터

---

업무 담당자 A가 학사업무 수행  
업무 담당자 B가 등록업무 수행  
업무 담당자 C가 수강업무 수행  

각각 다른 데이터를 쓸 수도 있지만,  
공통 데이터 (I.E. 학생 데이터)를 쓸 수도 있다  

응용 프로그램이 공통 데이터(파일)를 각자 가지고 있는 것이  
기존 파일 시스템의 특징  

이런 공통 데이터를 통합 Integrate 해서 하나로 정리하는 것이  
DB 설계  

최종적으로 응용프로그램에서 DBMS를 통해 통합 DB의 데이터에 접근  

DB  
= 운영 데이터를 통합하여 저장하며 공용으로 사용됨

---

### DB의 특징*

- 실시간 접근성 (Realtime Accessibility)
  - 실시간 서비스
  - 사용자가 데이터를 요청하면 수 초내에 결과를 서비스함

- 계속적인 변화 (Continuous Change)
  - DB에 저장된 내용은 어느 한 순간의 상태
  - 데이터 값은 시간에 따라 항상 바뀜 : 동적(dynamic) 특성  
  - DB는 CRUD를 통하여 바뀐 데이터 값을 저장함

- 동시 공유 (Concurrent Sharing)
  - DB는 서로 다른 업무 또는 여러 사용자에게 동시에 공유됨
  - 동시(Concurrent)는 병행이라고도 하며, DB에 접근하는 프로그램이 여러 개 있다는 의미

- 내용에 따른 참조 (Reference By Content)
  - DB에 저장된 데이터는 데이터의 물리적인 위치가 아니라 데이터 값에 따라 참조됨
  - #KeyValue 같이  
  - #주소 참조가 아니라  

---

### DB 시스템의 구성

- DBA (DB Agent, DB 사용자)
  - 일반 사용자
  - 응용 프로그래머
  - SQL 사용자
  - 관리자

|

- DB 시스템
  - DB - 데이터를 모아둔 토대
  - DBMS - 사용자와 DB를 연결시켜주는 SW
  - 데이터 모델 - 데이터가 저장되는 기법에 관한 내용, DBMS의 청사진

---

### DB 시스템의 발전

- 마당 서점과 DB 시스템
  1. 1970년대 : 마당 서점의 시작 (마당서점 초기)
     - 정보 기술 : 컴퓨터 없음
     - 특징
       - 사장이 모든 도서의 제목과 가격을 기억
       - 매출과 판매가 컴퓨터 없이 관리됨  
       - 매출에 대한 내용이 정확하지 않음
     - 도서 : 100권
     - 고객 : 근처 학교의 학생, 지역 주민
     - 고객 서비스 : 사장이 직접 도서 안내
     - 업무 : 회계업부 (계산기 사용), 장부에 기록
  2. 1980년대 : 컴퓨터의 도입 (마당서점 전산화)
     - 정보 기술 : 컴퓨터
     - 특징
       - 컴퓨터를 이용한 초기 응용 프로그램으로 업무 처리
       - 파일 시스템 사용
       - 한 대의 컴퓨터에서만 판매 및 매출 관리
     - 도서 : 1,000권
     - 고객 : 근처 학교의 학생, 지역 주민
     - 고객 서비스 : 컴퓨터를 이용하여 도서 검색, 직원 고용
     - 업무 : 회계업부 (컴퓨터 사용), 파일 시스템
  3. 1990년대 : 지점 개설 및 DB 구축 (마당서점 DBMS 도입)
     - 정보 기술 : 컴퓨터 + 원격 통신
     - 특징
       - 지점 간 클라이언트/서버 시스템을 도입하여 업무 처리
       - DB 관리 시스템 (DBMS)을 도입
     - 도서 : 10,000권
     - 고객 : 서울 지역 고객
     - 고객 서비스 : 클라이언트/서버 시스템으로 지점 연결하여 도서 검색 서비스 제공
     - 업무 : 회계업부 (컴퓨터 사용), DB 시스템
  4. 2000년대 : 홈페이지 구축 (마당서점 인터넷 서비스 실시)
     - 정보 기술 : 컴퓨터 + 인터넷
     - 특징
       - 인터넷을 이용하여 도서 검색 및 주문
       - 웹 DB 시스템으로 불특정 다수 고객 유치
       - 고객이 지리적으로 넚게 분산됨
     - 도서 : 100,000권
     - 고객 : 국민 (전국으로 배송)
     - 고객 서비스 : 인터넷으로 도서 검색 및 주문
     - 업무 : 회계/인사업부 (컴퓨터와 인터넷 사용), 웹 DB 시스템으로 지점 연계
  5. 2010년대 : 인터넷 쇼핑몰 운영 (마당서점 인터넷 쇼핑몰 운영)
     - 정보 기술 : 컴퓨터 + 인터넷
     - 특징
       - 도서뿐만 아니라 음반, 악세서리, 문구, 공연 티켓까지 판매하는 인터넷 쇼핑몰로 확대
       - 도서 외 상품의 매출 비중이 50% 이상으로 늘어남
     - 도서 : 1,000,000권
     - 고객 : 국민 (전국으로 배송)
     - 고객 서비스 : 인터넷으로 종합 쇼핑 서비스 제공
     - 업무 : 회계/인사업부 (컴퓨터와 인터넷 사용), DB 서버 여러 개 구축
- 정보 시스템의 발전
  - 파일 시스템
    - 데이터를 파일 단위로 파일 서버에 저장
    - 각 컴퓨터는 LAN을 통하여 파일 서버에 연결
    - 파일 서버에 저장된 데이터를 사용
      - 응용 프로그램에서 열기/닫기 Open/Close를 요청
    - 각 응용 프로그램이 독립적으로 파일을 다룸
      - 데이터가 중복 저장될 가능성이 있음
    - 동시에 파일을 다룸
      - 데이터의 일관성이 훼손될 수 있음
  - DB 시스템
    - DBMS를 도입하여 데이터를 통합 관리하는 시스템
    - 클라이언트 - 서버 모델
      - 서버 Server
        - DBMS가 설치되어 데이터를 가진 쪽
      - 클라이언트 Client
        - 외부에서 데이터 요청하는 쪽
    - DBMS 서버
      - 파일을 다루며 데이터의 일관성 유지, 복구, 동시 접근 제어 등의 기능을 수행
    - 데이터의 중복을 줄이고 표준화하며 무결성을 유지
  - 웹 DB 시스템
    - DB를 웹 브라우저에게 사용할 수 있도록 서비스
    - 불특정 다수 고객을 상대
      - 온라인 상거래나 공공 민원 서비스 등에 사용됨
    - 클라이언트 -> 서버 { Apache -> PHP (PHP 해석기) = WAS -> MySQL } -> DB
  - 분산 DB 시스템
    - 데이터가 여러 위치에 저장된 DB
    - 대규모의 응용 시스템에 사용됨
    - Distributed Database Types: two types
      - Homogenous :
        - A network of Identical Databases stored on multiple sites
      - Heterogeneous :
        - Different schemas, OS, DDBMS (Distributed ~), and different data models
  - 정보 시스템 발전과 기업 업무 환경 변화
    - 70년대 : 소매상 - 실체 시스템
      - 정보시스템 없음, 수작업으로 회계 업무
    - 80년대 : 소기업 - 파일 시스템
      - 파일시스템 사용, 파일을 이용한 응용 프로그램으로 업무 처리
    - 90년대 : 중견기업 - DB
      - 정보시스템, DB 시스템 사용,, DBMS 이용 업무 처리,, 정보 공유, 실시간 서비스, LAN 기술
    - 00년대 : 대기업 - 인터넷 통신
      - 정보시스템, 웹 DB 시스템, 인터넷 사용,, 인터넷 쇼핑몰 개설 온라인 상거리,, 실시간 서비스, 웹 브라우저 기술
    - 10년대 : 종합 그룹 - 인터넷 통신
      - 정보시스템, 분산 DB 시스템, 인터넷 사용,, 고객 서비스 및 내부 업무 인터넷 처리,, 대규모 응용시스템에 사용

---

- WAS
  - Web Application Server  

- IPO  
  - Input Process Output  

- Host Language  
  - 일반 프로그래밍 언어에 SQL문을 사용하여 각 언어의 장점을 살림
  - = 삽입 프로그래밍 Embedded

---

- 파일 시스템과 DBMS  
  - I.E. 마당서점 데이터를 저장하는 방법  
  - I.E. 마당서점 데이터의 저장 방법 비교  
  - 파일 시스템과 DBMS 비교  

- I.E. 마당서점 데이터를 저장하는 방법  
  1. 데이터를 프로그램 내부에 저장하는 방법  
     - Code에 데이터 정의 및 값 저장  
     - 데이터 추가/수정 시 (코드 수정, 컴파일)  
  2. 파일 시스템을 이용하는 방법  
     - Code에 데이터 정의, File에 값 저장  
     - 데이터 구조 수정 시 (코드 수정, 컴파일)  
     - 같은 파일을 두 개의 프로그램이 공유하는 것이 운영체제의 도움 없이 불가능  
  3. DBMS를 사용하는 방법  
     - DBMS가 데이터 정의, DB에 값 저장  

- 파일 시스템과 DBMS 비교  

| 구분 | 파일 시스템 | DBMS |  
| 데이터 중복 | 데이터를 파일 단위로 저장 <br>= 중복 발생 | DBMS를 이용하여 데이터를 공유 <br>= 중복 가능성 낮음 |  
| 데이터 일관성 | 데이터의 중복 저장 <br>= 일관성 결여 | 중복 제거 <br>= 데이터 일관성 유지 |  
| 데이터 독립성 <br>(데이터 정의와 프로그램) | 유지 불가능 | 유지 가능 |  
| 관리 기능 | 보통 | 데이터 복구, 보안, 동시성 제어, <br>데이터 관리 기능 등을 수행 |  
| 프로그램 개발 생산성 | 나쁨 | 짧은 시간에 큰 프로그램을 개발할 수 있음 |  
| 기타 장점 | 보통 | 데이터 무결성 유지, 데이터 표준 준수 용이 |  

---

- SQL  
  - DDL Data Definition Language 데이터 정의어
    - DB에 저장된 테이블 구조 정의
    - CREATE, ALTER, DROP문
  - DML Data Manipulation Language 데이터 조작어
    - 데이터의 검색이나 변경에 사용 (검색, 삽입, 삭제, 수정)
    - SELECT, INSERT, DELETE, UPDATE
  - DCL Data Control Language 데이터 제어어
    - 데이터 사용 권한 관리 등
    - GRANT, REVOKE문

- DB User
  - 일반사용자
    - 은행의 창구 혹은 관공서의 민우너 접수처 등에서 데이터를 다루는 업무를 하는 사람
    - 프로그래머가 개발한 프로그램을 이용하여 DB에 접근하는 일반인
  - 응용프로그래머
    - 일반 사용자가 사용할 수 있도록 프로그램을 만드는 사람
    - 프로그래밍 언어와 SQL을 이용하여 일반 사용자를 위한 사용자 인터페이스와 데이터를 관리하는 응용 로직을 개발
  - SQL 사용자
    - SQL을 사용하여 업무를 처리하는 IT 부서의 담당자
    - 응용 프로그램으로 구현되어 있지 않은 업무를 SQL를 사용하여 처리
  - DB 관리자 DBA Database Administrator
    - DB 운영 조직의 DB 시스템을 총괄하는 사람
    - 데이터 설계, 구현, 유지보수의 전 과정을 담당
    - DB 사용자 통제, 보안, 성능 모니터링, 데이터 전체 파악 및 관리, 데이터 이동 및 복사 등 제반 업무를 함

- DBMS의 기능
  - 데이터 정의 Data Definition
    - 데이터의 구조를 정의하고 데이터 구조에 대한 삭제 및 변경 기능을 수행함
  - 데이터 조작 Data Manipulation
    - 데이터를 조작하는 소프트웨어 (응용 프로그램)가 요청하는 데이터의 삽입, 수정, 삭제 작업을 지원함
  - 데이터 추출 Data Retrieval
    - 사용자가 조회하는 데이터 혹은 응용 프로그램의 데이터를 추출함
  - 데이터 제어 Data Control
    - DB 사용자를 생성하고 모니터링하며 접근을 제어함.
    - 백업과 회복, 동시성 제어 등의 기능을 지원함

- 데이터 모델
  - 계층 데이터 모델 Hierarchical Data Model
  - 네트워크 데이터 모델 Network Data Model
  - *관계 데이터 모델 Relational Data Model
    - 가장 쓰임
  - 객체 데이터 모델 Object Data Model
  - 객체ㅡ관계 데이터 모델 ObjectㅡRelational Data Model
    - 관계 데이터 모델과 객체 데이터 모델의 장점을 결합한 모델

- 포인터 사용 : 계층 데이터 모델, 네트워크 데이터 모델
- 속성 값 사용 : 관계 데이터 모델
- 객체 식별자 사용 : 객체 데이터 모델

- 객체 데이터 모델 vs 관계 모델
  - Class vs Relation/Table
  - Object/Object Instance vs Tuple/Record
  - Variable vs Attribute/Column
  - Method vs Stored Procedure

- DBMS Schemas
  - Client : External Level/View Level
  - Server : Conceptual Level/Internal Level
  - DB : Internal Level

---

### 3단계 DB 구조

- 외부 단계 External Level
  - DB를 바라보는 User View (User, 응용 프로그래머)
  - 전체 DB 중에서 하나의 논리적인 부분을 의미
  - 1 DB : N * External View (Sub Schema)  
  - View 개념 (#구현이 아님)  

- 개념 단계 Conceptual Level
  - 전체 DB의 정의를 의미
  - 통합 조직 별로 하나만 존재하며 DBA가 관리함  
  - 1 DB : 1 Conceptual Schema  

- 내부 단계 Internal Level  
  - 물리적 저장장치에 DB가 실제로 저장되는 방법의 표현  
  - 1 DB : 1 Internal Schema  
  - 인덱스, 데이터 레코드의 배치 방법, 데이터 압축 등에 관한 사항이 포함됨  

- 외부/개념 매핑  
  - 사용자와 외부 스키마와 개념 스키마 간의 매핑(사상)  
  - 외부 스키마의 데이터가 개념 스키마와 어느 부분에 해당되는지 대응시킴  
  - #외부 스키마 뭉탱이 = 개념 스키마  
  - #외부 스키마 = 개념 스키마의 Logical Part  

- 개념/내부 매핑  
  - 개념 스키마의 데이터가 내부 스키마의 물리적 장치 어디에 어떤 방법으로 저장되는지 대응시킴  

ER = Entity Elation Model  

#### 데이터 독립성  

- 논리적 데이터 독립성 Logical Data Independence  
  - 외부 단계와 개념 단계 사이의 독립성  
  - 개념 스키마가 변경되어도 외부 스키마에는영향을 미치지 않도록 지원  
  - 논지적 구조가 변경되어도 응용 프로그램에는 영향이 없도록 하는 개념
  - 개념 스키마와 테이블을 생성하거나 변경하여도 외부 스키마가 직접 다루는 테이블이 아니면 영향이 없음

- 물리적 데이터 독립성 Physical Data Independence
  - 개념 단계와 내부 단계 사이의 독립성
  - 저장장치 구조 변경과 같이 내부 스키마가 변경되어도 개념 스키마에영향을 미치지 않도록 지원
  - 성능 개선을 위하여 물리적 저장 장치를 재구성할 겨우
    - 개념 스키마나 응용 프로그램 같은 외부 스키마에 영향이 없음
  - 물리적 독립성은 논리적 독립성보다 구현하기 쉬움

---

### 데이터 모델링  
